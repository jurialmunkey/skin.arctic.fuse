<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <include name="Search_Filter_Panel">
        <control type="group">
            <left>160</left>
            <width>720</width>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <include>Animation_Group_Bumper</include>
            <include>Animation_View_WindowChange</include>

            <!-- Top Row -->
            <control type="group">
                <centertop>100</centertop>
                <height>view_pad</height>
                <include>Search_Filter_Edit</include>
            </control>

            <!-- Alphabet and Autocomplete -->
            <control type="group">
                <top>180</top>
                <left>0</left>
                <include>Search_View_Visible_OnEdit</include>
                <include content="Search_Filter_Alphabet">
                    <param name="editid">9099</param>
                    <param name="ondown">5090</param>
                </include>
                <include>Search_Filter_Autocomplete_Fake</include>
                <include>Search_Filter_Autocomplete_Real</include>
            </control>

            <include>Search_Filter_Categories</include>
            <include>Search_Filter_Submenu</include>
            <include>Search_Filter_Selector</include>
        </control>

        <include>Search_Filter_Panel_Discover</include>
    </include>

    <include name="Search_Filter_Edit">
        <control type="edit" id="9099">
            <description>Search</description>
            <font>font_main_black</font>
            <textcolor>00ffffff</textcolor>
            <selectedcolor>00ffffff</selectedcolor>
            <disabledcolor>00ffffff</disabledcolor>
            <focusedcolor>$VAR[ColorSelected]</focusedcolor>
            <height>view_pad</height>
            <textoffsetx>40</textoffsetx>
            <align>left</align>
            <onup>SetProperty(List.ViewContainer,9099)</onup>
            <onup>333</onup>
            <!-- TO KEYBOARD -->
            <ondown>SetProperty(SearchTerm,$INFO[Control.GetLabel(9099).index(1)])</ondown>
            <ondown>9002</ondown>

            <include content="Action_View_Movement_OnRightLeft" condition="$EXP[Exp_HomeMenu_DontHide]">
                <param name="id">9099</param>
                <param name="onleft">9099</param>
                <param name="menuid">308</param>
            </include>
            <include content="Action_View_Movement_OnRightLeft" condition="![$EXP[Exp_HomeMenu_DontHide]]">
                <param name="id">9099</param>
                <param name="onleft">9099</param>
            </include>

            <visible allowhiddenfocus="true">!$EXP[Exp_Search_WidgetGroup_HasFocus] | Control.HasFocus(9099)</visible>
        </control>
    </include>

    <include name="Search_Filter_Autocomplete_Path">
        <content>plugin://plugin.program.autocompletion?info=autocomplete&amp;&amp;id=$VAR[Path_SearchTerm]&amp;&amp;limit=9</content>
    </include>

    <include name="Search_Filter_Autocomplete_Real">
        <control type="fixedlist" id="9098">
            <hitrect x="0" y="0" w="0" h="0" />
            <top>-2160</top>
            <left>-1920</left>
            <height>1</height>
            <width>100</width>
            <orientation>horizontal</orientation>
            <onup>9003</onup>
            <include content="Action_View_Movement_OnBack">
                <param name="id">9098</param>
                <param name="backid">303</param>
            </include>
            <ondown>9500</ondown>
            <visible allowhiddenfocus="true">false</visible>
            <onclick>SetFocus(9099)</onclick>
            <onclick>SetProperty(SearchTerm,$INFO[Container(9098).ListItem.Label])</onclick>
            <onclick>RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9099,text=$INFO[Container(9098).ListItem.Label])</onclick>
            <onclick>SetFocus(5090)</onclick>
            <include>Action_UpdateSearchTerm</include>
            <itemlayout width="1" height="1" />
            <focusedlayout width="1" height="1" />
            <include condition="$EXP[Exp_AutoCompletion_IsEnabled]">Search_Filter_Autocomplete_Path</include>
            <content>plugin://script.skinvariables/?info=get_split_string&amp;infolabel=Skin.String(SearchHistory)&amp;reload=$INFO[Skin.String(SearchHistory)]</content>
        </control>
    </include>

    <include name="Search_Filter_Autocomplete_Fake">
        <param name="id">9098</param>
        <definition>
            <control type="group">
                <top>100</top>
                <height>view_pad</height>
                <left>30</left>
                <visible>!Integer.IsEqual(Container($PARAM[id]).NumItems,0)</visible>
                <animation effect="slide" end="-40" time="400" tween="quadratic" reversible="false" condition="!Container($PARAM[id]).OnNext">Conditional</animation>
                <animation effect="slide" end="40" time="400" tween="quadratic" reversible="false" condition="!Container($PARAM[id]).OnPrevious">Conditional</animation>
                <control type="grouplist">
                    <itemgap>10</itemgap>
                    <orientation>horizontal</orientation>
                    <hitrect x="0" y="0" w="0" h="0" />
                    <onup>9003</onup>
                    <ondown>9500</ondown>
                    <onleft>5090</onleft>
                    <onleft>Control.Move(9098,-1)</onleft>
                    <onright>Control.Move(9098,1)</onright>
                    <onright>5091</onright>
                    <control type="button" id="5090">
                        <textoffsetx>10</textoffsetx>
                        <textoffsety>-5</textoffsety>
                        <width>auto</width>
                        <height>50</height>
                        <centertop>50%</centertop>
                        <align>center</align>
                        <font>font_main_black</font>
                        <textcolor>main_fg_70</textcolor>
                        <focusedcolor>main_fg_100</focusedcolor>
                        <label>$INFO[Container($PARAM[id]).ListItem.Label]</label>
                        <include>Texture_Highlight_Underline_H</include>
                        <onclick>SetFocus($PARAM[id],0)</onclick>
                        <onclick>Action(Select)</onclick>
                    </control>
                    <control type="button" id="5091">
                        <textoffsetx>10</textoffsetx>
                        <textoffsety>-5</textoffsety>
                        <width>auto</width>
                        <height>50</height>
                        <centertop>50%</centertop>
                        <align>center</align>
                        <font>font_main_black</font>
                        <textcolor>main_fg_70</textcolor>
                        <focusedcolor>main_fg_90</focusedcolor>
                        <include>Texture_Highlight_Underline_H</include>
                        <label>$INFO[Container($PARAM[id]).ListItem(1).Label]</label>
                        <onclick>SetFocus($PARAM[id],1)</onclick>
                        <onclick>Action(Select)</onclick>
                    </control>
                    <control type="button" id="5094">
                        <texturenofocus />
                        <texturefocus />
                        <width>0</width>
                        <onfocus>Control.Move(9098,1)</onfocus>
                        <onfocus>SetFocus(5091)</onfocus>
                    </control>
                    <control type="button" id="5092">
                        <textoffsetx>10</textoffsetx>
                        <textoffsety>-5</textoffsety>
                        <width>auto</width>
                        <height>50</height>
                        <centertop>50%</centertop>
                        <align>center</align>
                        <font>font_main_black</font>
                        <textcolor>main_fg_70</textcolor>
                        <focusedcolor>main_fg_90</focusedcolor>
                        <include>Texture_Highlight_Underline_H</include>
                        <label>$INFO[Container($PARAM[id]).ListItem(2).Label]</label>
                        <onclick>SetFocus($PARAM[id],2)</onclick>
                        <onclick>Action(Select)</onclick>
                    </control>
                    <control type="button" id="5093">
                        <textoffsetx>10</textoffsetx>
                        <textoffsety>-5</textoffsety>
                        <width>auto</width>
                        <height>50</height>
                        <centertop>50%</centertop>
                        <align>center</align>
                        <font>font_main_black</font>
                        <textcolor>main_fg_70</textcolor>
                        <focusedcolor>main_fg_90</focusedcolor>
                        <include>Texture_Highlight_Underline_H</include>
                        <label>$INFO[Container($PARAM[id]).ListItem(3).Label]</label>
                        <onclick>SetFocus($PARAM[id],3)</onclick>
                        <onclick>Action(Select)</onclick>
                    </control>
                    <control type="button" id="5094">
                        <textoffsetx>10</textoffsetx>
                        <textoffsety>-5</textoffsety>
                        <width>auto</width>
                        <height>50</height>
                        <centertop>50%</centertop>
                        <align>center</align>
                        <font>font_main_black</font>
                        <textcolor>main_fg_70</textcolor>
                        <focusedcolor>main_fg_90</focusedcolor>
                        <include>Texture_Highlight_Underline_H</include>
                        <label>$INFO[Container($PARAM[id]).ListItem(4).Label]</label>
                        <onclick>SetFocus($PARAM[id],4)</onclick>
                        <onclick>Action(Select)</onclick>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <include name="Search_Filter_Categories">
        <control type="grouplist" id="9500">
            <include>Search_View_Visible_OnEdit</include>
            <top>360</top>
            <width>1280</width>
            <height>80</height>
            <orientation>horizontal</orientation>
            <itemgap>20</itemgap>
            <include content="Action_View_Movement_OnLeftRight">
                <param name="id">9501</param>
                <param name="onleft">9527</param>
                <param name="backid">9500</param>
                <param name="onback">!Control.HasFocus(9501)</param>
                <param name="online">,1</param>
            </include>

            <onup>5090</onup>
            <ondown>5099</ondown>

            <include content="Search_Filter_Button">
                <param name="id">9501</param>
                <label>$LOCALIZE[456]$VAR[Label_Setting_SearchStyle,: ,]</label>
                <font>font_main_bold</font>
                <onfocus>ClearProperty(SearchDiscover.FilterLabel)</onfocus>
                <onclick condition="!Skin.HasSetting(Search.EnableDiscover)">Skin.Reset(Search.LibraryDiscover)</onclick>
                <onclick condition="!Skin.HasSetting(Search.EnableDiscover)">Skin.SetBool(Search.EnableDiscover)</onclick>
                <onclick condition="Skin.HasSetting(Search.EnableDiscover) + !Skin.HasSetting(Search.LibraryDiscover)">Skin.SetBool(Search.EnableDiscover)</onclick>
                <onclick condition="Skin.HasSetting(Search.EnableDiscover) + !Skin.HasSetting(Search.LibraryDiscover)">Skin.SetBool(Search.LibraryDiscover)</onclick>
                <onclick condition="Skin.HasSetting(Search.EnableDiscover) + Skin.HasSetting(Search.LibraryDiscover)">Skin.Reset(Search.EnableDiscover)</onclick>
                <onclick condition="Skin.HasSetting(Search.EnableDiscover) + Skin.HasSetting(Search.LibraryDiscover)">Skin.Reset(Search.LibraryDiscover)</onclick>
            </include>

            <control type="button" id="6001">
                <include>Defs_OSD_Button</include>
                <onclick>SetFocus(8000)</onclick>
                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
            </control>
            <include content="OSD_Button_Icon_Overlay">
                <param name="icon">special://skin/extras/icons/filter.png</param>
                <param name="id">6001</param>
                <param name="groupid">6101</param>
                <param name="itemgap">20</param>
                <param name="icon_colordiffuse">main_fg_70</param>
                <param name="visible">Skin.HasSetting(Search.EnableDiscover)</param>
            </include>

            <include content="Object_Hidden_Looper">
                <param name="id">9527</param>
                <param name="grouplistid">9500</param>
            </include>
        </control>
    </include>

    <include name="Search_Filter_Submenu">
        <control type="grouplist">
            <include>Search_View_Visible_OnEdit</include>
            <visible>!Integer.IsEqual(Container(5099).NumItems,0)</visible>
            <visible>!String.IsEmpty(Control.GetLabel(9099).index(1)) | Skin.HasSetting(Search.EnableDiscover)</visible>
            <top>420</top>
            <width>1680</width>
            <orientation>horizontal</orientation>
            <itemgap>-20</itemgap>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">0</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">1</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">2</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">3</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">4</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">5</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">6</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">7</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">8</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">9</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">10</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">11</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">12</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">13</param>
            </include>
            <include content="Search_Filter_ToggleButton">
                <param name="pos">14</param>
            </include>
        </control>
    </include>

    <include name="Search_Filter_ToggleButton">
        <control type="togglebutton">
            <include>Texture_Highlight_ToggleButton_FakeFocus</include>
            <usealttexture>Control.HasFocus(5099) + String.IsEqual(Container(5099).ListItemAbsolute($PARAM[pos]).Property(guid),Container(5099).ListItem.Property(guid))</usealttexture>
            <label>$INFO[Container(5099).ListItemAbsolute($PARAM[pos]).Label]</label>
            <altlabel>[COLOR=$VAR[ColorSelected]]$INFO[Container(5099).ListItemAbsolute($PARAM[pos]).Label][/COLOR]</altlabel>
            <font>font_mini</font>
            <height>80</height>
            <width>auto</width>
            <textoffsetx>40</textoffsetx>
            <textcolor>main_fg_70</textcolor>
            <visible>Integer.IsGreater(Container(5099).NumItems,$PARAM[pos])</visible>
            <onfocus>SetFocus(5099,$PARAM[pos])</onfocus>
        </control>
    </include>

    <include name="Search_Filter_Button">
        <control type="button" id="$PARAM[id]">
            <nested />
            <texturenofocus />
            <font>font_mini</font>
            <height>80</height>
            <width>auto</width>
            <textoffsetx>40</textoffsetx>
            <textcolor>main_fg_70</textcolor>
        </control>
    </include>

    <include name="Search_Filter_Panel_Discover">

        <control type="group">
            <include>Dimension_DialogSideMenu</include>
            <include>Animation_Right_Delay</include>
            <visible allowhiddenfocus="true">Control.HasFocus(8000) | ControlGroup(8100).HasFocus() | Control.HasFocus(8900) | Control.HasFocus(8900) | ControlGroup(89000).HasFocus() | Control.HasFocus(89999)</visible>
            <include content="Dialog_Dim_Side">
                <param name="slide_condition">ControlGroup(8100).HasFocus()</param>
            </include>

            <!-- Bottom Layer -->
            <include content="Dialog_Background_Group">
                <param name="dialog_size">Dimension_DialogSideMenu</param>
            </include>
            <!-- Side Buttons -->
            <include content="Dialog_Body">
                <include content="Dialog_Side_Grouplist">
                    <param name="id">8100</param>
                    <onleft>8000</onleft>
                    <include content="Dialog_Side_Button">
                        <param name="baseid">8</param>
                        <param name="id">01</param>
                        <param name="label">$LOCALIZE[15067]</param>
                        <param name="icon">special://skin/extras/icons/circle-xmark.png</param>
                        <onclick>SetFocus(6001)</onclick>
                    </include>
                    <include content="Dialog_Side_Button">
                        <param name="baseid">8</param>
                        <param name="id">02</param>
                        <param name="label">$LOCALIZE[192]</param>
                        <param name="icon">special://skin/extras/icons/triangle-exclamation.png</param>
                        <onclick>SetFocus(9099)</onclick>
                        <onclick>RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9099)</onclick>
                        <onclick>ClearProperty(SearchTerm)</onclick>
                        <onclick>ClearProperty(SearchDiscover.SortLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.FilmSort)</onclick>
                        <onclick>ClearProperty(SearchDiscover.ShowSort)</onclick>
                        <onclick>ClearProperty(SearchDiscover.GenreLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.GenreID)</onclick>
                        <onclick>ClearProperty(SearchDiscover.ProviderLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.ProviderID)</onclick>
                        <onclick>ClearProperty(SearchDiscover.PeopleLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.PeopleID)</onclick>
                        <onclick>ClearProperty(SearchDiscover.YearHigh)</onclick>
                        <onclick>ClearProperty(SearchDiscover.YearLow)</onclick>
                        <onclick>ClearProperty(SearchDiscover.RatingLow)</onclick>
                        <onclick>ClearProperty(SearchDiscover.StudioLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.DirectorLabel)</onclick>
                        <onclick>ClearProperty(SearchDiscover.SortBy)</onclick>
                        <onclick>ClearProperty(SearchDiscover.SortOrder)</onclick>
                        <onclick>Skin.Reset(SearchDiscover.VoteLow)</onclick>
                        <onclick>Skin.Reset(SearchDiscover.ItemLimit)</onclick>
                    </include>
                </include>
            </include>

            <include content="Dialog_Foreground_Side">
                <param name="dialog_size">Dimension_DialogSideMenu</param>
                <param name="slide_condition">ControlGroup(8100).HasFocus()</param>
                <param name="lines_right">0</param>
                <param name="topline">true</param>
                <param name="subline">false</param>

                <!-- Header -->
                <include content="Dialog_Head">
                    <param name="label">$LOCALIZE[33061]</param>
                </include>

                <!-- Content -->
                <include content="Dialog_Body">
                    <include content="List_DialogSelect">
                        <param name="id">8000</param>
                        <param name="textcolor">dialog_fg</param>
                        <param name="itemlayout_include">Layout_MenuList</param>
                        <top>20</top>
                        <left>20</left>
                        <right>20</right>
                        <bottom>80</bottom>
                        <orientation>vertical</orientation>
                        <onleft>6001</onleft>
                        <onright>8001</onright>

                        <content>
                            <item>
                                <label>$LOCALIZE[515]$INFO[Window.Property(SearchDiscover.GenreLabel),: ,]</label>
                                <onclick>SetProperty(SearchDiscover.FilterLabel,Genre)</onclick>
                                <onclick>SetFocus(8900)</onclick>
                                <visible>Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[572]$INFO[Window.Property(SearchDiscover.StudioLabel),: ,]</label>
                                <onclick>SetProperty(SearchDiscover.FilterLabel,Studio)</onclick>
                                <onclick>SetFocus(8900)</onclick>
                                <visible>Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[20339]$INFO[Window.Property(SearchDiscover.DirectorLabel),: ,]</label>
                                <onclick>SetProperty(SearchDiscover.FilterLabel,Director)</onclick>
                                <onclick>SetFocus(8900)</onclick>
                                <visible>Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[345]$INFO[Window.Property(SearchDiscover.YearLow), &gt; ,]$INFO[Window.Property(SearchDiscover.YearHigh), &lt; ,]</label>
                                <onclick>SetProperty(SearchDiscover.YearLow.Dialog,1)</onclick>
                                <onclick>ClearProperty(SearchDiscover.YearLow)</onclick>
                                <onclick>ClearProperty(SearchDiscover.YearHigh)</onclick>
                                <onclick>ActivateWindow(1155)</onclick>
                                <visible>Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[563]$INFO[Window.Property(SearchDiscover.RatingLow), &gt; ,]</label>
                                <onclick>ClearProperty(SearchDiscover.RatingLow,1105)</onclick>
                                <onclick>ActivateWindow(1156)</onclick>
                                <visible>Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>

                            <!-- TMDb Discover -->
                            <item>
                                <label>$LOCALIZE[515]$INFO[Window.Property(SearchDiscover.GenreLabel),: ,]</label>
                                <onclick>ActivateWindow(1151)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[15225]$INFO[Window.Property(SearchDiscover.ProviderLabel),: ,]</label>
                                <onclick>ActivateWindow(1152)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[31051]$INFO[Window.Property(SearchDiscover.PeopleLabel),: ,]</label>
                                <onclick>SetProperty(SearchDiscover.PersonSearch,People)</onclick>
                                <onclick>ActivateWindow(1153)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[31179]$INFO[Window.Property(SearchDiscover.KeywordLabel),: ,]</label>
                                <onclick>ActivateWindow(1157)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[345]$INFO[Window.Property(SearchDiscover.YearLow), &gt; ,]$INFO[Window.Property(SearchDiscover.YearHigh), &lt; ,]</label>
                                <onclick>SetProperty(SearchDiscover.YearLow.Dialog,1)</onclick>
                                <onclick>ClearProperty(SearchDiscover.YearLow)</onclick>
                                <onclick>ClearProperty(SearchDiscover.YearHigh)</onclick>
                                <onclick>ActivateWindow(1155)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                            <item>
                                <label>$LOCALIZE[563]$INFO[Window.Property(SearchDiscover.RatingLow), &gt; ,]</label>
                                <onclick>ClearProperty(SearchDiscover.RatingLow,1105)</onclick>
                                <onclick>ActivateWindow(1156)</onclick>
                                <visible>!Skin.HasSetting(Search.LibraryDiscover)</visible>
                                <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
                            </item>
                        </content>
                    </include>
                </include>
            </include>

        </control>

        <!-- Library Filtering -->
        <control type="button" id="89999">
            <texturenofocus />
            <texturefocus />
            <onleft>9500</onleft>
            <onright>9500</onright>
            <onup>9500</onup>
            <ondown>9500</ondown>
            <onback>9500</onback>
            <onclick>SetFocus(9500)</onclick>
            <visible>[Control.HasFocus(8900) | ControlGroup(89000).HasFocus() | Control.HasFocus(89999)]</visible>
        </control>
        <control type="group">
            <include>Dimension_DialogSideMenu</include>
            <include>Animation_Right_Delay</include>
            <visible>Skin.HasSetting(Search.EnableDiscover)</visible>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <visible>[Control.HasFocus(8900) | ControlGroup(89000).HasFocus() | Control.HasFocus(89999)]</visible>
            <include content="Dialog_Dim_Side">
                <param name="slide_condition">ControlGroup(89000).HasFocus()</param>
            </include>

            <!-- Bottom Layer -->
            <include content="Dialog_Background_Group">
                <param name="dialog_size">Dimension_DialogSideMenu</param>
            </include>
            <!-- Side Buttons -->
            <include content="Dialog_Body">
                <include content="Dialog_Side_Grouplist">
                    <param name="id">89000</param>
                    <onright>8000</onright>
                    <onleft>8900</onleft>
                    <include content="Dialog_Side_Button">
                        <param name="id">01</param>
                        <param name="baseid">89</param>
                        <param name="label">$LOCALIZE[186]</param>
                        <param name="icon">special://skin/extras/icons/circle-check.png</param>
                        <onclick>SetFocus(8000)</onclick>
                    </include>
                </include>
            </include>

            <include content="Dialog_Foreground_Side">
                <param name="dialog_size">Dimension_DialogSideMenu</param>
                <param name="slide_condition">ControlGroup(89000).HasFocus()</param>
                <param name="lines_right">0</param>
                <param name="topline">true</param>
                <param name="subline">true</param>

                <!-- Header -->
                <include content="Dialog_Head">
                    <param name="id">0</param>
                    <param name="label">$INFO[Window.Property(SearchDiscover.FilterLabel)]</param>
                </include>

                <!-- Content -->
                <include content="Dialog_Body">
                    <include content="List_DialogSelect">
                        <param name="id">8900</param>
                        <param name="misc">[[String.IsEqual(Window.Property(SearchDiscover.FilterLabel),Genre) + !String.IsEmpty(Window.Property(SearchDiscover.GenreLabel)) + String.Contains(Window.Property(SearchDiscover.GenreLabel),ListItem.Label)] | [String.IsEqual(Window.Property(SearchDiscover.FilterLabel),Studio) + !String.IsEmpty(Window.Property(SearchDiscover.StudioLabel)) + String.Contains(Window.Property(SearchDiscover.StudioLabel),ListItem.Label)] | [String.IsEqual(Window.Property(SearchDiscover.FilterLabel),Director) + !String.IsEmpty(Window.Property(SearchDiscover.DirectorLabel)) + String.Contains(Window.Property(SearchDiscover.DirectorLabel),ListItem.Label)] | [String.IsEqual(Window.Property(SearchDiscover.FilterLabel),Country) + !String.IsEmpty(Window.Property(SearchDiscover.CountryLabel)) + String.Contains(Window.Property(SearchDiscover.CountryLabel),ListItem.Label)]]</param>
                        <include>Dimension_Dialog_Body_Group</include>
                        <onright>89000</onright>
                        <onleft>9500</onleft>
                        <onback>9500</onback>
                        <!-- Genre -->
                        <include content="Action_SearchLibrary_Filter_Onclick">
                            <param name="type">Genre</param>
                        </include>
                        <!-- Studio -->
                        <include content="Action_SearchLibrary_Filter_Onclick">
                            <param name="type">Studio</param>
                        </include>
                        <!-- Director -->
                        <include content="Action_SearchLibrary_Filter_Onclick">
                            <param name="type">Director</param>
                        </include>
                        <!-- Country -->
                        <include content="Action_SearchLibrary_Filter_Onclick">
                            <param name="type">Country</param>
                        </include>

                        <content>
                            <item>
                                <label>$LOCALIZE[192]</label>
                                <property name="clearfilter">True</property>
                                <property name="special_icon">special://skin/extras/icons/_none.png</property>
                                <!-- <property name="special_icon">special://skin/extras/icons/circle-minus.png</property> -->
                            </item>
                        </content>

                        <content sortby="label">$VAR[Path_SearchFilter_Node]</content>
                    </include>
                </include>
            </include>

        </control>

    </include>

    <include name="Search_Filter_Selector">
        <control type="list" id="5099">
            <visible>!String.IsEmpty(Control.GetLabel(9099).index(1)) | Skin.HasSetting(Search.EnableDiscover)</visible>
            <include content="Action_View_Movement_OnLeftRight">
                <param name="id">5099</param>
                <param name="backid">303</param>
                <param name="online">,1</param>
            </include>
            <orientation>horizontal</orientation>
            <width>100</width>
            <height>1</height>
            <left>-3840</left>
            <onup>9500</onup>
            <ondown>6000</ondown>
            <itemlayout width="1" height="1" />
            <focusedlayout width="1" height="1">
                <include content="List_ButtonMenu_Row_HiddenButton_ERow">
                    <param name="id">5099</param>
                </include>
            </focusedlayout>
            <content>
                <item>
                    <label>$LOCALIZE[31382]</label>
                    <property name="target">videos</property>
                    <property name="guid">guid-discoverall</property>
                    <property name="numitems">$INFO[Container(5081).NumItems]</property>
                    <property name="onfocus_one">SetProperty(TMDbHelper.WidgetContainer,5081)</property>
                    <visible>Skin.HasSetting(Search.LibraryDiscover) + Skin.HasSetting(Search.EnableDiscover) + [!Integer.IsEqual(Container(5081).NumItems,0) | Container(5081).IsUpdating]</visible>
                </item>
                <item>
                    <label>$LOCALIZE[342]</label>
                    <property name="target">videos</property>
                    <property name="guid">guid-discovermovies</property>
                    <property name="numitems">$INFO[Container(5082).NumItems]</property>
                    <property name="onfocus_one">SetProperty(TMDbHelper.WidgetContainer,5082)</property>
                    <visible>Skin.HasSetting(Search.EnableDiscover) + [!Integer.IsEqual(Container(5082).NumItems,0) | Container(5082).IsUpdating]</visible>
                </item>
                <item>
                    <label>$LOCALIZE[20343]</label>
                    <property name="target">videos</property>
                    <property name="guid">guid-discovertvshows</property>
                    <property name="numitems">$INFO[Container(5083).NumItems]</property>
                    <property name="onfocus_one">SetProperty(TMDbHelper.WidgetContainer,5083)</property>
                    <visible>Skin.HasSetting(Search.EnableDiscover) + [!Integer.IsEqual(Container(5083).NumItems,0) | Container(5083).IsUpdating]</visible>
                </item>

                <include>skinvariables-searchmenu-rowitems</include>
            </content>
        </control>
    </include>

    <include name="Search_Filter_Letter">
        <param name="textcolor_fo">main_fg_100</param>
        <param name="textcolor_nf">main_fg_70</param>
        <param name="editid">9099</param>
        <definition>
            <control type="button" id="90$PARAM[groupid]$PARAM[id]">
                <width>47.2</width>
                <height>50</height>
                <textoffsety>-5</textoffsety>
                <textoffsetx>-20</textoffsetx>
                <centertop>50%</centertop>
                <include>Texture_Highlight_Underline_H</include>
                <align>center</align>
                <font>font_main_black</font>
                <textcolor>$PARAM[textcolor_nf]</textcolor>
                <focusedcolor>$PARAM[textcolor_fo]</focusedcolor>
                <label>[UPPERCASE]$PARAM[letter][/UPPERCASE]</label>
                <onclick>SetFocus($PARAM[editid])</onclick>
                <include>Object_SearchLetter_Click_$PARAM[letter]</include>
                <onclick>SetFocus(90$PARAM[groupid]$PARAM[id])</onclick>
                <include>Action_UpdateSearchTerm</include>
                <onup>$PARAM[onup]</onup>
                <onup>90$PARAM[grouponup]$PARAM[id]</onup>
                <ondown>$PARAM[ondown]</ondown>
                <ondown>90$PARAM[groupondown]$PARAM[id]</ondown>
                <nested />
            </control>
        </definition>
    </include>

    <include name="Search_Filter_Alphabet">
        <param name="editid">9099</param>
        <param name="ondown">5090</param>
        <param name="rowone">9002</param>
        <param name="rowtwo">9003</param>
        <definition>
            <!-- First Row -->
            <control type="grouplist" id="$PARAM[rowone]">
                <orientation>horizontal</orientation>
                <itemgap>0</itemgap>
                <height>view_pad</height>
                <left>30</left>

                <include content="Action_View_Movement_OnLeftRight">
                    <param name="id">9011</param>
                    <param name="onleft">9026</param>
                    <param name="backid">$PARAM[rowone]</param>
                    <param name="onback">!Control.HasFocus(9011)</param>
                    <param name="online">,0</param>
                </include>

                <include content="Search_Filter_Letter">
                    <param name="letter">a</param>
                    <param name="id">1</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">b</param>
                    <param name="id">2</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">c</param>
                    <param name="id">3</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">d</param>
                    <param name="id">4</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">e</param>
                    <param name="id">5</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">f</param>
                    <param name="id">6</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">g</param>
                    <param name="id">7</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">h</param>
                    <param name="id">8</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">i</param>
                    <param name="id">9</param>
                    <param name="groupid">1</param>
                    <param name="groupondown">3</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">j</param>
                    <param name="id">1</param>
                    <param name="groupid">2</param>
                    <param name="groupondown">4</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">k</param>
                    <param name="id">2</param>
                    <param name="groupid">2</param>
                    <param name="groupondown">4</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">l</param>
                    <param name="id">3</param>
                    <param name="groupid">2</param>
                    <param name="groupondown">4</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">m</param>
                    <param name="id">4</param>
                    <param name="groupid">2</param>
                    <param name="groupondown">4</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">n</param>
                    <param name="id">5</param>
                    <param name="groupid">2</param>
                    <param name="groupondown">4</param>
                    <param name="onup">$PARAM[editid]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
            </control>

            <!-- Second Row -->
            <control type="grouplist" id="$PARAM[rowtwo]">
                <top>50</top>
                <height>view_pad</height>
                <orientation>horizontal</orientation>
                <itemgap>0</itemgap>
                <left>30</left>

                <include content="Action_View_Movement_OnLeftRight">
                    <param name="id">9031</param>
                    <param name="onleft">9047</param>
                    <param name="backid">$PARAM[rowtwo]</param>
                    <param name="onback">!Control.HasFocus(9031)</param>
                    <param name="online">,0</param>
                </include>

                <include content="Search_Filter_Letter">
                    <param name="letter">o</param>
                    <param name="id">1</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">p</param>
                    <param name="id">2</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">q</param>
                    <param name="id">3</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">r</param>
                    <param name="id">4</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">s</param>
                    <param name="id">5</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">t</param>
                    <param name="id">6</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">u</param>
                    <param name="id">7</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">v</param>
                    <param name="id">8</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">w</param>
                    <param name="id">9</param>
                    <param name="groupid">3</param>
                    <param name="grouponup">1</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">x</param>
                    <param name="id">1</param>
                    <param name="groupid">4</param>
                    <param name="grouponup">2</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">y</param>
                    <param name="id">2</param>
                    <param name="groupid">4</param>
                    <param name="grouponup">2</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">z</param>
                    <param name="id">3</param>
                    <param name="groupid">4</param>
                    <param name="grouponup">2</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">_</param>
                    <param name="id">4</param>
                    <param name="groupid">4</param>
                    <param name="grouponup">2</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>
                <include content="Search_Filter_Letter">
                    <param name="letter">&lt;</param>
                    <param name="id">5</param>
                    <param name="groupid">4</param>
                    <param name="grouponup">2</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="editid">$PARAM[editid]</param>
                </include>

                <include content="Object_Hidden_Looper">
                    <param name="id">9047</param>
                    <param name="grouplistid">$PARAM[rowtwo]</param>
                </include>
            </control>
        </definition>
    </include>

    <include name="Search_Filter_YearItems">
        <include content="$PARAM[include]">
            <param name="prefix">203</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">202</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">201</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">200</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">199</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">198</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">197</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">196</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">195</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">194</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">193</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">192</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">191</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">190</param>
        </include>
        <include content="$PARAM[include]">
            <param name="prefix">189</param>
        </include>
    </include>

    <include name="Search_Filter_DecadeItem">
        <item>
            <label>$NUMBER[$PARAM[prefix]0]</label>
            <property name="prefix">$NUMBER[$PARAM[prefix]]</property>
            <visible>[!String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow.Dialog)) + [String.IsEmpty(Window(1105).Property(SearchDiscover.YearHigh)) | Integer.IsGreater(Window(1105).Property(SearchDiscover.YearHigh),$PARAM[prefix]0)]] | [String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow.Dialog)) + [String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow)) | !Integer.IsGreater(Window(1105).Property(SearchDiscover.YearLow),$PARAM[prefix]0)]]</visible>
        </item>
    </include>

    <include name="_Search_Filter_YearItem">
        <item>
            <label>$NUMBER[$PARAM[prefix]$PARAM[suffix]]</label>
            <visible>[!String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow.Dialog)) + [String.IsEmpty(Window(1105).Property(SearchDiscover.YearHigh)) | Integer.IsGreater(Window(1105).Property(SearchDiscover.YearHigh),$NUMBER[$PARAM[prefix]$PARAM[suffix]])]] | [String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow.Dialog)) + [String.IsEmpty(Window(1105).Property(SearchDiscover.YearLow)) | !Integer.IsGreater(Window(1105).Property(SearchDiscover.YearLow),$NUMBER[$PARAM[prefix]$PARAM[suffix]])]]</visible>
            <visible>Integer.IsEqual(Container(8000).ListItem.Property(prefix),$PARAM[prefix])</visible>
        </item>
    </include>

    <include name="Search_Filter_YearItem">
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">9</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">8</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">7</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">6</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">5</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">4</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">3</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">2</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">1</param>
        </include>
        <include content="_Search_Filter_YearItem">
            <param name="prefix">$PARAM[prefix]</param>
            <param name="suffix">0</param>
        </include>
    </include>

</includes>