<?xml version="1.0" encoding="UTF-8"?>
<window type="window" id="1105">
    <defaultcontrol always="true">9099</defaultcontrol>
    <menucontrol>303</menucontrol>

    <!-- TESTER -->
    <!-- Normal -->
    <onload condition="!String.IsEmpty(Window(Home).Property(CustomSearchTerm))">RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=6000,text=$INFO[Window(Home).Property(CustomSearchTerm)])</onload>
    <onload condition="!String.IsEmpty(Window(Home).Property(CustomSearchTerm))">ClearProperty(CustomSearchTerm,Home)</onload>
    <onload condition="String.IsEmpty(Window(Home).Property(CustomSearchTerm)) + !Skin.HasSetting(Search.FocusEditControl)">SetFocus(9097)</onload>

    <onload>SetProperty(MenuSubmenuVisibility,Window(Home).Property(MenuSubmenuVisibility))</onload>
    <onload>ClearProperty(MenuSubmenuVisibility,Home)</onload>

    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.07,$INFO[Skin.String(SearchHistory.06)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.06,$INFO[Skin.String(SearchHistory.05)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.05,$INFO[Skin.String(SearchHistory.04)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.04,$INFO[Skin.String(SearchHistory.03)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.03,$INFO[Skin.String(SearchHistory.02)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.02,$INFO[Skin.String(SearchHistory.01)])</onunload>
    <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1)) + ![String.IsEqual(Skin.String(SearchHistory.01),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.02),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.03),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.04),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.05),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.06),Control.GetLabel(9099).index(1)) | String.IsEqual(Skin.String(SearchHistory.07),Control.GetLabel(9099).index(1))]">Skin.SetString(SearchHistory.01,$INFO[Control.GetLabel(9099).index(1)])</onunload>

    <controls>
        <include>Defs_TMDbHelper_Loader</include>

        <include>Background_Main</include>

        <control type="group">
            <visible>![ControlGroup(6000).HasFocus() | $EXP[Exp_Group_Bumper_HasFocus]]</visible>
            <animation effect="fade" start="0" end="100" time="400" reversible="false">Visible</animation>
            <animation effect="fade" start="100" end="0" time="400" reversible="false">Hidden</animation>
            <include content="Background_Main">
                <param name="plain_background">true</param>
            </include>
        </control>

        <control type="group">
            <!-- Widgets and Panel -->
            <include>Animation_View_WindowChange</include>
            <include>skinshortcuts-template-searchmenu</include>
        </control>

        <include>Background_Transition</include>

        <control type="group">
            <visible>![ControlGroup(6000).HasFocus() | $EXP[Exp_Group_Bumper_HasFocus]]</visible>
            <animation effect="fade" start="0" end="100" time="400" reversible="false">Visible</animation>
            <animation effect="fade" start="100" end="0" time="400" reversible="false">Hidden</animation>
            <include content="Home_Menu">
                <param name="onlist">30000</param>
            </include>
        </control>

        <control type="group">
            <left>view_pad</left>
            <top>view_pad</top>
            <width>40</width>
            <height>40</height>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <control type="image">
                <texture flipy="true">special://profile/addon_data/script.texturemaker/ArcticFuse/circle_v.png</texture>
                <aspectratio>keep</aspectratio>
                <width>10</width>
                <height>10</height>
                <centertop>50%</centertop>
                <left>-20</left>
            </control>
            <control type="image">
                <aspectratio>keep</aspectratio>
                <bordersize>-4</bordersize>
                <texture colordiffuse="main_fg_90">special://skin/extras/icons/search.png</texture>
            </control>
        </control>

        <control type="group">
            <left>view_pad</left>
            <bottom>view_pad</bottom>
            <width>40</width>
            <height>40</height>
            <visible>[ControlGroup(6000).HasFocus() | $EXP[Exp_Group_Bumper_HasFocus]]</visible>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <control type="image">
                <aspectratio>keep</aspectratio>
                <bordersize>-4</bordersize>
                <texture colordiffuse="main_fg_30">special://skin/extras/icons/bars.png</texture>
            </control>
        </control>

        <include content="Home_Bumper">
            <param name="groupid">6000</param>
        </include>

        <include>View_Dialog_Plot</include>

    </controls>
</window>
