<?xml version="1.0" encoding="UTF-8"?>
<includes>
    <include name="Hub_Submenu_List">
        <param name="ondown">5990</param>
        <param name="hidden_button">List_ButtonMenu_Row_HiddenButton_View</param>
        <definition>
            <include content="Home_Selector_Widget">
                <param name="id">$PARAM[id]</param>
                <param name="window_id">$PARAM[window_id]</param>
                <param name="font">font_mini</param>
                <param name="color_fo">main_fg_30</param>
                <param name="color_nf">main_fg_30</param>
                <param name="hidden_button">$PARAM[hidden_button]</param>
                <param name="slide">Skin.HasSetting(Slide.WidgetContainer)</param>
                <top>0</top>
                <left>0</left>
                <height>240</height>
                <width>2080</width>
                <focusposition>0</focusposition>
                <movement>0</movement>
                <onback>303</onback>
                <onback>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onback>
                <onup>300</onup>
                <ondown>$PARAM[ondown]</ondown>
                <onfocus>SetProperty(TMDbHelper.WidgetContainer,301,$PARAM[window_id])</onfocus>
                <onleft>$PARAM[id]</onleft>
                <onright>$PARAM[id]</onright>
                <nested />
            </include>
        </definition>
    </include>

    <include name="Home_Submenu_Group">
        <control type="group" id="3000">
            <top>800</top>
            <height>240</height>
            <left>view_button_left</left>
            <width>2080</width>
            <orientation>vertical</orientation>
            <animation effect="slide" time="400" end="0" start="0,30" tween="quadratic" easing="out" reversible="false" condition="String.IsEmpty(Window.Property(Slide.WidgetContainer))">Conditional</animation>
            <animation effect="slide" time="400" end="0,30" start="0" tween="quadratic" easing="out" reversible="false" condition="!String.IsEmpty(Window.Property(Slide.WidgetContainer))">Conditional</animation>
            <nested />
        </control>
    </include>

    <include name="Hub_Menu_List">
        <include content="Home_Selector_Widget">
            <param name="window_id">$PARAM[window_id]</param>
            <param name="hidden_button">List_ButtonMenu_Row_HiddenButton_Hubs</param>
            <focusposition>0</focusposition>
            <movement>0</movement>
            <onup>311</onup>
            <onback>303</onback>
            <onback>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onback>
            <ondown>3000</ondown>
            <onfocus>SetProperty(TMDbHelper.WidgetContainer,301,$PARAM[window_id])</onfocus>
            <onleft>300</onleft>
            <onright>300</onright>
            <include content="Animation_Fade_In">
                <param name="condition">String.IsEmpty(Window.Property(Slide.WidgetContainer))</param>
                <param name="delay">200</param>
            </include>
            <include content="Animation_ConditionalFade">
                <param name="condition">!String.IsEmpty(Window.Property(Slide.WidgetContainer))</param>
            </include>
            <nested />
        </include>
    </include>

    <include name="Hub_Menu_Grouplist">
        <param name="widgets_only">false</param>
        <definition>
            <control type="group">
                <onup>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onup>
                <onleft>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onleft>
                <onright>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onright>
                <ondown>5000</ondown>
                <right>-x16</right>
                <visible>!$EXP[Exp_InfoDialogs]</visible>
                <include>Animation_Transition_InfoPanel_Hide</include>
                <include content="Home_Fullscreen_Widget_Group" condition="!$PARAM[widgets_only]">
                    <param name="window_id">$PARAM[window_id]</param>
                    <param name="visible">[!ControlGroup(5000).HasFocus()]</param>
                </include>
                <nested />
            </control>
        </definition>
    </include>

    <include name="Hub_Widget_Grouplist">
        <param name="widgets_only">false</param>
        <definition>
            <control type="grouplist" id="5000">
                <animation effect="slide" time="400" end="0,-120" start="0" tween="quadratic" easing="out" reversible="false" condition="!Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),301)">Conditional</animation>
                <animation effect="slide" time="400" end="0" start="0,-120" tween="quadratic" easing="out" reversible="false" condition="Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),301)">Conditional</animation>

                <top>940</top>
                <bottom>-440</bottom>
                <orientation>vertical</orientation>
                <onleft>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onleft>
                <onright>SetFocus($INFO[Window.Property(TMDbHelper.WidgetContainer)],0,absolute)</onright>
                <onright>SetFocus(303,$VAR[Action_Menu_Position],absolute)</onright>

                <onup condition="!$PARAM[widgets_only]">3000</onup>
                <include condition="$PARAM[widgets_only]">Action_Widget_Top</include>
                <include content="Action_Widget_End" condition="!$PARAM[widgets_only]">
                    <param name="topid">5002</param>
                </include>
                <include content="Action_Widget_End" condition="$PARAM[widgets_only]">
                    <param name="topid">5003</param>
                </include>

                <control type="group" id="5990">
                    <height>widget_tbump_h</height>
                </control>

                <include content="_Widget_Row" condition="!$PARAM[widgets_only]">
                    <param name="id">5001</param>
                    <param name="groupid">5101</param>
                    <param name="label">[CAPITALIZE]$VAR[Label_Hub_Background][/CAPITALIZE]</param>
                    <param name="secondary_label">$LOCALIZE[31371] $VAR[Label_Special_SortMethod]</param>
                    <param name="sort_condition">True</param>
                    <param name="sort_descending">String.IsEqual(Window.Property(SpecialFolderSortorder),descending)</param>
                    <param name="include">List_Square_Row</param>
                    <param name="transition_include">true</param>
                    <param name="transition_hidden">Control.HasFocus(5001)</param>
                    <param name="visible">[String.IsEqual(Window.Property(SpecialFolderStyle),Square) + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <param name="altvisible">[[!ControlGroup(5000).HasFocus() + !System.IdleTime(1)] + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <content target="$VAR[Path_Hub_Target]" sortby="$INFO[Window.Property(SpecialFolderSortby)]" sortorder="$INFO[Window.Property(SpecialFolderSortorder)]" limit="$INFO[Window.Property(SpecialFolderLimit)]">$VAR[Path_Hub_Content_Square]</content>
                    <onfocus>SetProperty(TMDbHelper.WidgetContainer,5001)</onfocus>
                    <onback condition="!Integer.IsEqual(Container(5001).ListItem.CurrentItem,1)">5000</onback>
                    <onback condition="!Integer.IsEqual(Container(5001).ListItem.CurrentItem,1)">SetFocus(5001,0,absolute)</onback>
                    <onback condition="Integer.IsEqual(Container(5001).ListItem.CurrentItem,1)">3000</onback>
                    <onfocus>SetProperty(Transition.WidgetStyle,List_Square_Row,Home)</onfocus>
                    <onunfocus>ClearProperty(Transition.WidgetStyle,Home)</onunfocus>
                </include>

                <include content="_Widget_Row" condition="!$PARAM[widgets_only]">
                    <param name="id">5002</param>
                    <param name="groupid">5102</param>
                    <param name="label">[CAPITALIZE]$VAR[Label_Hub_Background][/CAPITALIZE]</param>
                    <param name="secondary_label">$LOCALIZE[31371] $VAR[Label_Special_SortMethod]</param>
                    <param name="sort_condition">True</param>
                    <param name="sort_descending">String.IsEqual(Window.Property(SpecialFolderSortorder),descending)</param>
                    <param name="include">List_Landscape_Row</param>
                    <param name="transition_include">true</param>
                    <param name="transition_hidden">Control.HasFocus(5002)</param>
                    <param name="visible">[!String.IsEqual(Window.Property(SpecialFolderStyle),Square) + !String.IsEqual(Window.Property(SpecialFolderStyle),Poster) + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <param name="altvisible">[[!ControlGroup(5000).HasFocus() + !System.IdleTime(1)] + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <content target="$VAR[Path_Hub_Target]" sortby="$INFO[Window.Property(SpecialFolderSortby)]" sortorder="$INFO[Window.Property(SpecialFolderSortorder)]" limit="$INFO[Window.Property(SpecialFolderLimit)]">$VAR[Path_Hub_Content_Landscape]</content>
                    <onfocus>SetProperty(TMDbHelper.WidgetContainer,5002)</onfocus>
                    <onback condition="!Integer.IsEqual(Container(5002).ListItem.CurrentItem,1)">5000</onback>
                    <onback condition="!Integer.IsEqual(Container(5002).ListItem.CurrentItem,1)">SetFocus(5002,0,absolute)</onback>
                    <onback condition="Integer.IsEqual(Container(5002).ListItem.CurrentItem,1)">3000</onback>
                    <onfocus>SetProperty(Transition.WidgetStyle,List_Landscape_Row,Home)</onfocus>
                    <onunfocus>ClearProperty(Transition.WidgetStyle,Home)</onunfocus>
                </include>

                <include content="_Widget_Row" condition="!$PARAM[widgets_only]">
                    <param name="id">5003</param>
                    <param name="groupid">5103</param>
                    <param name="label">[CAPITALIZE]$VAR[Label_Hub_Background][/CAPITALIZE]</param>
                    <param name="secondary_label">$LOCALIZE[31371] $VAR[Label_Special_SortMethod]</param>
                    <param name="sort_condition">True</param>
                    <param name="sort_descending">String.IsEqual(Window.Property(SpecialFolderSortorder),descending)</param>
                    <param name="include">List_Poster_Row</param>
                    <param name="transition_include">true</param>
                    <param name="transition_hidden">Control.HasFocus(5003)</param>
                    <param name="visible">[String.IsEqual(Window.Property(SpecialFolderStyle),Poster) + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <param name="altvisible">[[!ControlGroup(5000).HasFocus() + !System.IdleTime(1)] + !String.IsEmpty(Window.Property(SpecialFolderPath)) + String.IsEmpty(container(300).listitem.property(useWidgetList))]</param>
                    <content target="$VAR[Path_Hub_Target]" sortby="$INFO[Window.Property(SpecialFolderSortby)]" sortorder="$INFO[Window.Property(SpecialFolderSortorder)]" limit="$INFO[Window.Property(SpecialFolderLimit)]">$VAR[Path_Hub_Content_Poster]</content>
                    <onfocus>SetProperty(TMDbHelper.WidgetContainer,5003)</onfocus>
                    <onback condition="!Integer.IsEqual(Container(5003).ListItem.CurrentItem,1)">5000</onback>
                    <onback condition="!Integer.IsEqual(Container(5003).ListItem.CurrentItem,1)">SetFocus(5003,0,absolute)</onback>
                    <onback condition="Integer.IsEqual(Container(5003).ListItem.CurrentItem,1)">3000</onback>
                    <onfocus>SetProperty(Transition.WidgetStyle,List_Poster_Row,Home)</onfocus>
                    <onunfocus>ClearProperty(Transition.WidgetStyle,Home)</onunfocus>
                </include>

                <nested />


            </control>
        </definition>
    </include>

    <include name="Hub_Menu_Group">
        <control type="group">
            <include>Animation_Half_WindowChange</include>
            <animation effect="slide" time="400" end="0" start="0,-320" tween="quadratic" easing="out" reversible="false" condition="String.IsEmpty(Window.Property(Slide.WidgetContainer))">Conditional</animation>
            <animation effect="slide" time="400" end="0,-320" start="0" tween="quadratic" easing="out" reversible="false" condition="!String.IsEmpty(Window.Property(Slide.WidgetContainer))">Conditional</animation>
            <nested />
        </control>
    </include>


    <include name="Hub_Main_Group">
        <param name="fullscreen_content">$VAR[Path_Hub_WidgetOnly_Content]</param>
        <param name="fullscreen_target">$VAR[Path_Hub_WidgetOnly_Target]</param>
        <param name="fullscreen_label">$LOCALIZE[31105]</param>
        <param name="fullscreen_sort">$VAR[Label_Hub_Sort]</param>
        <param name="fullscreen_descending">False</param>
        <param name="fullscreen_sortby">random</param>
        <param name="widgets_only">false</param>
        <definition>

            <include content="Object_Hidden_Button" condition="$PARAM[widgets_only]">
                <param name="id">300</param>
                <onfocus>SetFocus(5003)</onfocus>
            </include>

            <include content="Object_Hidden_Button">
                <param name="id">393</param>
                <onfocus condition="$PARAM[widgets_only]">SetFocus(303,$VAR[Action_Menu_Position],absolute)</onfocus>
                <onfocus condition="![$PARAM[widgets_only]]">SetFocus(300)</onfocus>
            </include>


            <include>Defs_TMDbHelper_Loader</include>
            <include>Background_Main</include>
            <include>Background_Transition</include>

            <include content="Home_Fullscreen_Widget_List" condition="!$PARAM[widgets_only]">
                <param name="content">$PARAM[fullscreen_content]</param>
                <param name="target">$PARAM[fullscreen_target]</param>
                <param name="sortby">$PARAM[fullscreen_sortby]</param>
                <param name="sortorder">$PARAM[fullscreen_sortorder]</param>
                <param name="limit">$PARAM[fullscreen_limit]</param>
                <param name="window_id">$PARAM[window_id]</param>
            </include>

            <control type="group" id="320">

                <include>Animation_View_WindowChange</include>

                <animation type="Conditional" condition="Control.IsVisible(330)" reversible="false">
                    <effect type="slide" end="0,-20" time="60" tween="sine" />
                    <effect type="slide" end="0,20" time="180" tween="sine" delay="80" />
                </animation>

                <include content="Home_Widgets_Infopanel" condition="!$PARAM[widgets_only]">
                    <param name="visible">true</param>
                    <include content="Info_Panel">
                        <param name="titlelabel">$VAR[Label_Title_C301]</param>
                        <param name="plotlabel">$VAR[Label_Plot_C301]</param>
                        <param name="container">Container(301).</param>
                        <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),301)</visible>
                        <visible>!Integer.IsEqual(Container(301).NumItems,0)</visible>
                    </include>
                    <include content="Info_Viewline">
                        <param name="label">$PARAM[fullscreen_label]</param>
                        <param name="secondary_label">$PARAM[fullscreen_sort]</param>
                        <param name="sort_condition">True</param>
                        <param name="sort_descending">$PARAM[fullscreen_descending]</param>
                        <param name="item_condition">true</param>
                        <param name="item_count">$INFO[Container(301).NumItems]</param>
                        <param name="item_updating">Container(301).IsUpdating</param>
                        <left>0</left>
                        <top>320</top>
                        <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),301)</visible>
                        <visible>!Integer.IsEqual(Container(301).NumItems,0)</visible>
                        <include content="Animation_Fade_In">
                            <param name="condition">String.IsEmpty(Window.Property(Slide.WidgetContainer))</param>
                            <param name="delay">200</param>
                        </include>
                        <include content="Animation_ConditionalFade">
                            <param name="condition">!String.IsEmpty(Window.Property(Slide.WidgetContainer))</param>
                        </include>
                    </include>
                </include>

                <include content="Info_Panel" condition="!$PARAM[widgets_only]">
                    <param name="titlelabel">$VAR[Label_Title_Container]</param>
                    <param name="container">Container(5001).</param>
                    <param name="plotlabel">$VAR[Label_Plot_Container]</param>
                    <width>info_panel_w</width>
                    <left>view_side</left>
                    <top>view_top</top>
                    <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),5001)</visible>
                    <include>Animation_Transition_InfoPanel_Cond</include>
                </include>
                <include content="Info_Panel" condition="!$PARAM[widgets_only]">
                    <param name="titlelabel">$VAR[Label_Title_Container]</param>
                    <param name="container">Container(5002).</param>
                    <param name="plotlabel">$VAR[Label_Plot_Container]</param>
                    <width>info_panel_w</width>
                    <left>view_side</left>
                    <top>view_top</top>
                    <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),5002)</visible>
                    <include>Animation_Transition_InfoPanel_Cond</include>
                </include>

                <include content="Info_Panel">
                    <param name="titlelabel">$VAR[Label_Title_Container]</param>
                    <param name="container">Container(5096).</param>
                    <param name="plotlabel">$VAR[Label_Plot_Container]</param>
                    <width>info_panel_w</width>
                    <left>view_side</left>
                    <top>view_top</top>
                    <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),5096)</visible>
                    <include>Animation_Transition_InfoPanel_Cond</include>
                </include>
                <include content="Info_Panel">
                    <param name="titlelabel">$VAR[Label_Title_Container]</param>
                    <param name="container">Container(5097).</param>
                    <param name="plotlabel">$VAR[Label_Plot_Container]</param>
                    <width>info_panel_w</width>
                    <left>view_side</left>
                    <top>view_top</top>
                    <visible>Integer.IsEqual(Window.Property(TMDBHelper.WidgetContainer),5097)</visible>
                    <include>Animation_Transition_InfoPanel_Cond</include>
                </include>


                <nested />
            </control>

            <include>Home_Transitions</include>
            <include>Home_Fade</include>
            <include>Home_Header</include>
            <include>Home_Bumper</include>
            <include content="Home_FloatingClock">
                <param name="minify">Container(5000).HasNext</param>
            </include>
            <include>Home_Menu</include>
            <include>View_Dialog_Plot</include>
        </definition>
    </include>
</includes>